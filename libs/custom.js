var eyeImage="data:image/png;base64,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";
var walkImage="data:image/png;base64,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";

// Focus tweening parameter
var parameters = {
    amount: 50,
    duration: 1000,
    curve: 'Exponential',
    easing: 'Out',
    iterative: false
  };

function onFocus () {
    this.focus( parameters.duration, TWEEN.Easing[ parameters.curve ][ parameters.easing ] );
}

function createInfoSpot(vector,text)
{
    var spot = new PANOLENS.Infospot( 300, eyeImage );
    spot.position.copy( vector);
    spot.addHoverText( text );
    spot.addEventListener( 'click', onFocus );
    return spot;
}

function linkPanoramas(origin,destination, vector){
    origin.link( destination, vector, 300, walkImage);
}